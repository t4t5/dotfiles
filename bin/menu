#!/bin/bash

# Usage:
#   menu "Option A" "Option B"
#   menu -p "Choose:" "Option A" "Option B"
#   echo -e "Option A\nOption B" | menu
#   echo -e "Option A\nOption B" | menu -p "Choose:"

prompt=""
if [[ "$1" == "-p" ]]; then
  prompt="$2"
  shift 2
fi

if [[ $# -gt 0 ]]; then
  printf '%s\n' "$@"
else
  cat
fi | vicinae dmenu ${prompt:+-p "$prompt"}
